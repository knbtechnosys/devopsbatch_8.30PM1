---
- hosts: all
  become: yes
  become_user: root
  tasks:
      - name : install java openjdk8 on ubuntu 20.04
        apt: 
          name: openjdk-8-jre
          state: present
        when: ansible_os_family == "Debian"

      - name: Ensure Python 3 is installed
        raw: test -e /usr/bin/python3 || (apt -y update && apt install -y python3-minimal)
          changed_when: false
       

      - name: Set Python interpreter for Ansible to Python 3
        set_fact:
          ansible_python_interpreter: /usr/bin/python3
      

      - name: install java openjdk8 on RedHat Machine 
        yum:
           name: java-11-amazon-corretto
           state: present  
        when: ansible_os_family == "RedHat"

